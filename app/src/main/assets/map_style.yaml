import:
#  - https://www.nextzen.org/carto/refill-style/11/refill-style.zip
#  - https://www.nextzen.org/carto/refill-style/11/themes/color-blue.zip
#  - https://www.nextzen.org/carto/refill-style/11/themes/label-10.zip
  https://www.nextzen.org/carto/bubble-wrap-style/9/bubble-wrap-style.zip

sources:
  mapzen:
    # EraserMaps the app only supports MVT format tiles
    type:  MVT #TopoJSON
    url:  https://tile.nextzen.org/tilezen/vector/v1/all/{z}/{x}/{y}.mvt?api_key=0FGtx0j8R3C0XOoqgEIWrw
    #url:  https://tile.mapzen.com/mapzen/vector/v1/all/{z}/{x}/{y}.mvt
    #url:  http://tile.dev.mapzen.com/mapzen/vector/v1/all/{z}/{x}/{y}.mvt
    #url:  //localhost:8080/vector/all/{z}/{x}/{y}.mvt
    # road labels in Tangram JS are broken when overzooming, set max_zoom: 18 to preview fix
    url_params:
      api_key: global.sdk_mapzen_api_key
    max_zoom: 16

layers:
  #GPS Trailer points
  gt_point:
    data: { source: gt_point }
    draw:
      points:
        collide: false
        size: function() { return feature.size; }
        #size: 10px
        order: 1000
        #        color: function() { return feature.color; }
        color: function() { return feature.color; }
        #color: '#000000'

  # used for user to create a rectangular area to select multiple points
  gt_selected_area_rect:
    data: { source: gt_selected_area_rect }
    draw:
      sdk-line-overlay:
        #dashedline:
        color: '#000000'
        order: 1001
        width: 3px

